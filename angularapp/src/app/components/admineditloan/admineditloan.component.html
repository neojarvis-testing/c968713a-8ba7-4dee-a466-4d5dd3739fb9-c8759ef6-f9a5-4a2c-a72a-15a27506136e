<app-adminnav></app-adminnav>

<div class="edit-loan-container">
  <h1>Edit Loan</h1>
  <form #editLoanForm="ngForm" (ngSubmit)="onSubmit(editLoanForm)">
    <div class="form-group">
      <label for="LoanType">Loan Type</label>
      <input type="text" id="LoanType" name="LoanType" [(ngModel)]="loan.LoanType" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.LoanType?.dirty">
        <div *ngIf="editLoanForm.controls.LoanType?.errors?.required" class="error">Loan Type is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="Description">Description</label>
      <input type="text" id="Description" name="Description" [(ngModel)]="loan.Description" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.Description?.dirty">
        <div *ngIf="editLoanForm.controls.Description?.errors?.required" class="error">Description is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="InterestRate">Interest Rate</label>
      <input type="number" id="InterestRate" name="InterestRate" [(ngModel)]="loan.InterestRate" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.InterestRate?.dirty">
        <div *ngIf="editLoanForm.controls.InterestRate?.errors?.required" class="error">Interest Rate is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="MaximumAmount">Maximum Amount</label>
      <input type="number" id="MaximumAmount" name="MaximumAmount" [(ngModel)]="loan.MaximumAmount" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.MaximumAmount?.dirty">
        <div *ngIf="editLoanForm.controls.MaximumAmount?.errors?.required" class="error">Maximum Amount is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="RepaymentTenure">Repayment Tenure</label>
      <input type="number" id="RepaymentTenure" name="RepaymentTenure" [(ngModel)]="loan.RepaymentTenure" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.RepaymentTenure?.dirty">
        <div *ngIf="editLoanForm.controls.RepaymentTenure?.errors?.required" class="error">Repayment Tenure is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="Eligibility">Eligibility</label>
      <input type="text" id="Eligibility" name="Eligibility" [(ngModel)]="loan.Eligibility" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.Eligibility?.dirty">
        <div *ngIf="editLoanForm.controls.Eligibility?.errors?.required" class="error">Eligibility is required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="DocumentsRequired">Documents Required</label>
      <input type="text" id="DocumentsRequired" name="DocumentsRequired" [(ngModel)]="loan.DocumentsRequired" required>
      <div *ngIf="editLoanForm.submitted || editLoanForm.controls.DocumentsRequired?.dirty">
        <div *ngIf="editLoanForm.controls.DocumentsRequired?.errors?.required" class="error">Documents Required is required</div>
      </div>
    </div>

    <button type="submit">Update Loan</button>
    <button type="button" (click)="goBack()">Back</button>
  </form>

  <!-- Display error message -->
  <div *ngIf="message" class="error-message">
    {{ message }}
  </div>

  <!-- Modal -->
  <div *ngIf="showModal" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeModal()">&times;</span>
      <p>Updated successfully!</p>
      <button class="ok-button" (click)="closeModal()">OK</button>
    </div>
  </div>
</div>
